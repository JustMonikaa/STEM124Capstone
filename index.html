<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STEM Capstone Navigator: 13-Week Guide</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Tailwind Config for Custom Colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        stone: {
                            50: '#fafaf9',
                            100: '#f5f5f4',
                            200: '#e7e5e4',
                            600: '#57534e',
                            800: '#292524',
                        },
                        amber: {
                            500: '#f59e0b',
                            600: '#d97706',
                            700: '#b45309',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f5f5f4; }
        ::-webkit-scrollbar-thumb { background: #d6d3d1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a8a29e; }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-h: 400px;
        }

        .hidden-section { display: none; }
        
        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stats-step { display: none; }
        .stats-step.active { display: block; }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 font-sans antialiased min-h-screen flex flex-col md:flex-row">

    <!-- Mobile Header -->
    <header class="md:hidden bg-white border-b border-stone-200 p-4 flex justify-between items-center sticky top-0 z-50">
        <h1 class="text-xl font-bold text-stone-800">Capstone Navigator</h1>
        <button id="mobile-menu-btn" class="text-stone-600 focus:outline-none text-2xl">
            &#9776;
        </button>
    </header>

    <!-- Sidebar Navigation -->
    <nav id="sidebar" class="bg-white w-full md:w-64 border-r border-stone-200 flex-shrink-0 md:h-screen sticky top-0 hidden md:flex flex-col z-40">
        <div class="p-6 border-b border-stone-100 hidden md:block">
            <h1 class="text-2xl font-bold tracking-tight text-amber-700">STEM<br>Capstone</h1>
            <p class="text-xs text-stone-500 mt-1">Grade 12 Integrated Guide</p>
        </div>
        
        <div class="flex-1 overflow-y-auto py-4">
            <ul class="space-y-1 px-3">
                <li><button onclick="navigate('dashboard')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors bg-amber-50 text-amber-700" data-target="dashboard">&#128202; Dashboard</button></li>
                <li><button onclick="navigate('phase1')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium text-stone-600 hover:bg-stone-100" data-target="phase1">&#128161; Phase 1: Ideate</button></li>
                <li><button onclick="navigate('phase2')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium text-stone-600 hover:bg-stone-100" data-target="phase2">&#128295; Phase 2: Build</button></li>
                <li><button onclick="navigate('phase3')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium text-stone-600 hover:bg-stone-100" data-target="phase3">&#128202; Phase 3: Test</button></li>
                <li><button onclick="navigate('phase4')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium text-stone-600 hover:bg-stone-100" data-target="phase4">&#127891; Phase 4: Defend</button></li>
                <li><button onclick="navigate('tools')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium text-stone-600 hover:bg-stone-100" data-target="tools">&#128269; Stats & Tools</button></li>
            </ul>
        </div>
        
        <div class="p-4 border-t border-stone-100">
            <div class="bg-stone-100 rounded-lg p-3">
                <p class="text-xs font-semibold text-stone-500 uppercase">13-Week Sprint</p>
                <div class="w-full bg-stone-200 rounded-full h-1.5 mt-2">
                    <div id="week-progress" class="bg-amber-500 h-1.5 rounded-full" style="width: 8%"></div>
                </div>
                <p id="week-display" class="text-[10px] mt-1 text-stone-400">Week 1 of 13</p>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 p-4 md:p-8 overflow-y-auto h-screen bg-stone-50 relative">
        
        <!-- DASHBOARD SECTION -->
        <section id="dashboard" class="fade-in">
            <div class="max-w-4xl mx-auto space-y-8">
                <div class="space-y-2">
                    <h2 class="text-3xl font-bold text-stone-800">13-Week Research Roadmap</h2>
                    <p class="text-stone-600 leading-relaxed">
                        This specialized curriculum for STEM students focuses on <strong>Applied Invention</strong>. We assume mastery of literature review and theory from PR1 & PR2. The next 13 weeks are about engineering a solution and validating it statistically.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                        <h3 class="text-lg font-semibold text-stone-800 mb-4">Projected Effort by Week</h3>
                        <div class="chart-container">
                            <canvas id="timelineChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                        <h3 class="text-lg font-semibold text-stone-800 mb-4">Grading Priorities</h3>
                        <div class="chart-container">
                            <canvas id="gradingChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TOOLS SECTION -->
        <section id="tools" class="hidden-section fade-in">
            <div class="max-w-4xl mx-auto space-y-8">
                <div class="border-b border-stone-200 pb-4">
                    <h2 class="text-2xl font-bold text-stone-800">Advanced Stats & Validity Tools</h2>
                    <p class="mt-2 text-stone-600">
                        The <strong>Quick Stats Finder</strong> below is built using the UCLA Institute for Digital Research and Education (IDRE) methodology. Use it to select the most robust test for your Capstone data.
                    </p>
                </div>

                <!-- STATS FINDER WIZARD -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden border border-stone-200">
                    <div class="bg-stone-800 p-4 text-white flex justify-between items-center">
                        <h3 class="font-bold">Expert Statistical Decision Engine</h3>
                        <button onclick="resetStatsWizard()" class="text-xs bg-stone-700 hover:bg-stone-600 px-2 py-1 rounded transition">Reset</button>
                    </div>
                    
                    <div class="p-6 min-h-[300px]">
                        <!-- Step 1: DV Type -->
                        <div id="stats-step-1" class="stats-step active">
                            <h4 class="text-lg font-bold mb-4">Step 1: What is the nature of your Outcome (Dependent Variable)?</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <button onclick="selectStatsStep(1, 'continuous')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">Continuous / Interval</span>
                                    <span class="text-xs text-stone-500">Measurements like pH level, height, weight, speed, voltage.</span>
                                </button>
                                <button onclick="selectStatsStep(1, 'categorical')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">Categorical / Nominal</span>
                                    <span class="text-xs text-stone-500">Categories like Success/Failure, Color, Yes/No, Presence/Absence.</span>
                                </button>
                                <button onclick="selectStatsStep(1, 'ordinal')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">Ordinal / Ranked</span>
                                    <span class="text-xs text-stone-500">Likert scales (1-5), rankings (1st, 2nd, 3rd), preferences.</span>
                                </button>
                            </div>
                        </div>

                        <!-- Step 2: IV Count/Type -->
                        <div id="stats-step-2" class="stats-step">
                            <h4 class="text-lg font-bold mb-4">Step 2: How many Independent Variables (IV) are you testing?</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <button onclick="selectStatsStep(2, 'one-cat-2')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">One Categorical IV (2 Groups)</span>
                                    <span class="text-xs text-stone-500">e.g., Experimental Filter vs. Commercial Filter.</span>
                                </button>
                                <button onclick="selectStatsStep(2, 'one-cat-many')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">One Categorical IV (3+ Groups)</span>
                                    <span class="text-xs text-stone-500">e.g., Concentrated 10%, 20%, 30% and Control.</span>
                                </button>
                                <button onclick="selectStatsStep(2, 'one-cont')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">One Continuous IV</span>
                                    <span class="text-xs text-stone-500">e.g., Relationship between Temperature and Growth Rate.</span>
                                </button>
                                <button onclick="selectStatsStep(2, 'multi')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">Two or More IVs</span>
                                    <span class="text-xs text-stone-500">e.g., Effect of both Light Intensity AND Soil pH on plant height.</span>
                                </button>
                            </div>
                        </div>

                        <!-- Step 3: Pairing -->
                        <div id="stats-step-3" class="stats-step">
                            <h4 class="text-lg font-bold mb-4">Step 3: Are the observations related or independent?</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <button onclick="selectStatsStep(3, 'independent')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">Independent Samples</span>
                                    <span class="text-xs text-stone-500">Comparing different plants, different machines, or different groups.</span>
                                </button>
                                <button onclick="selectStatsStep(3, 'paired')" class="p-4 border rounded-lg text-left hover:border-amber-500 hover:bg-amber-50 transition">
                                    <span class="block font-bold">Paired / Repeated Measures</span>
                                    <span class="text-xs text-stone-500">Same subject tested Before vs. After, or at multiple time points.</span>
                                </button>
                            </div>
                        </div>

                        <!-- Result Section -->
                        <div id="stats-result" class="stats-step p-6 bg-amber-50 border border-amber-200 rounded-lg">
                            <div class="flex items-center space-x-3 mb-3">
                                <span class="bg-amber-600 text-white px-3 py-1 rounded-full text-xs font-bold uppercase">Recommendation</span>
                                <h4 id="res-test-name" class="text-xl font-bold text-amber-900">Test Name</h4>
                            </div>
                            <p id="res-test-desc" class="text-stone-700 leading-relaxed">Explanation goes here.</p>
                            <div class="mt-6 p-4 bg-white rounded border border-amber-100">
                                <span class="block text-[10px] font-bold text-stone-400 uppercase tracking-widest">UCLA Reference Logic</span>
                                <p id="res-ucla-logic" class="text-xs text-stone-500 mt-1 italic">Criteria met for this test selection.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Topic Validator -->
                <div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm">
                    <h3 class="text-xl font-bold text-stone-800 mb-2">Pre-Proposal Validator</h3>
                    <p class="text-sm text-stone-600 mb-4">Run your project idea through this "Hard Filter" to ensure it's defensible.</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="flex items-start space-x-3">
                            <input type="checkbox" class="mt-1">
                            <span class="text-sm"><strong>Novelty:</strong> Patent search confirms this isn't already a product in the PH.</span>
                        </div>
                        <div class="flex items-start space-x-3">
                            <input type="checkbox" class="mt-1">
                            <span class="text-sm"><strong>Timeline:</strong> Data gathering can be completed in < 14 days.</span>
                        </div>
                        <div class="flex items-start space-x-3">
                            <input type="checkbox" class="mt-1">
                            <span class="text-sm"><strong>Ethics:</strong> No vertebrates, human psychological stress, or toxins.</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Placeholder for Phase 1-4 Content (Abbreviated for Focus on Stats) -->
        <section id="phase1" class="hidden-section fade-in">
            <div class="max-w-4xl mx-auto space-y-6">
                <h2 class="text-2xl font-bold">Phase 1: Ideation (W1-3)</h2>
                <div class="p-6 bg-white border rounded-xl">
                    <p class="text-stone-600">The first 3 weeks focus on "Gap Analysis". Use Google Patents to ensure your product hasn't been made yet. If it exists, your research must offer a significant modification (Efficiency, Cost, or Sustainability).</p>
                </div>
            </div>
        </section>
        
        <section id="phase2" class="hidden-section fade-in">
            <div class="max-w-4xl mx-auto space-y-6">
                <h2 class="text-2xl font-bold">Phase 2: The Lab (W4-7)</h2>
                <div class="p-6 bg-white border rounded-xl">
                    <p class="text-stone-600">Prototyping. Use this phase for Bill of Materials (BOM) sourcing. Document all failures. In STEM research, a failed prototype that yields data is still a valid project if the analysis is sound.</p>
                </div>
            </div>
        </section>

        <section id="phase3" class="hidden-section fade-in">
            <div class="max-w-4xl mx-auto space-y-6">
                <h2 class="text-2xl font-bold">Phase 3: Validation (W8-10)</h2>
                <div class="p-6 bg-white border rounded-xl">
                    <p class="text-stone-600">Experimental Design. This is where you apply the tests found in the Stats Tool. Minimum of 3 trials per group is non-negotiable for Grade 12 STEM.</p>
                </div>
            </div>
        </section>

        <section id="phase4" class="hidden-section fade-in">
            <div class="max-w-4xl mx-auto space-y-6">
                <h2 class="text-2xl font-bold">Phase 4: The Panel (W11-13)</h2>
                <div class="p-6 bg-white border rounded-xl">
                    <p class="text-stone-600">Presentation. Focus on "Mastery of Statistics" and "Technical Feasibility". Panelists will target your methodology and the logic behind your statistical choices.</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Placeholder Comments -->
    <!-- Chosen Palette: Warm Neutrals & Amber. Chosen for professional academic presentation that remains visually engaging. -->
    <!-- Application Structure Plan: 
         1. Dashboard Overview for immediate timeline grounding.
         2. Task-Oriented navigation for Phased work.
         3. Interactive Statistical Decision Engine based on UCLA IDRE guidelines to assist Grade 12 researchers in the most difficult part of the capstone.
    -->
    <!-- Visualization & Content Choices:
         1. Timeline Chart -> Horizontal Bar -> Compare duration of phases.
         2. Grading Chart -> Doughnut -> Highlight output importance.
         3. Decision Wizard -> Conditional Logic -> Map User Inputs to UCLA stats guide.
         Confirming NO SVG/Mermaid used.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <script>
        // State for Stats Wizard
        const statsSelection = {
            dvType: null,
            ivConfig: null,
            pairing: null
        };

        // Navigation
        function navigate(target) {
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden-section'));
            document.getElementById(target).classList.remove('hidden-section');
            
            document.querySelectorAll('.nav-item').forEach(btn => {
                if(btn.dataset.target === target) {
                    btn.classList.add('bg-amber-50', 'text-amber-700');
                } else {
                    btn.classList.remove('bg-amber-50', 'text-amber-700');
                    btn.classList.add('text-stone-600');
                }
            });

            // Mobile menu auto-hide
            if(window.innerWidth < 768) {
                document.getElementById('sidebar').classList.add('hidden');
            }
        }

        // Stats Wizard Logic
        function selectStatsStep(step, val) {
            if(step === 1) {
                statsSelection.dvType = val;
                document.getElementById('stats-step-1').classList.remove('active');
                document.getElementById('stats-step-2').classList.add('active');
            } else if (step === 2) {
                statsSelection.ivConfig = val;
                document.getElementById('stats-step-2').classList.remove('active');
                
                // Decide if step 3 is needed
                const skipsStep3 = ['one-cont', 'multi'].includes(val) || statsSelection.dvType === 'categorical';
                
                if(skipsStep3) {
                    processStatsResult();
                } else {
                    document.getElementById('stats-step-3').classList.add('active');
                }
            } else if (step === 3) {
                statsSelection.pairing = val;
                document.getElementById('stats-step-3').classList.remove('active');
                processStatsResult();
            }
        }

        function resetStatsWizard() {
            statsSelection.dvType = null;
            statsSelection.ivConfig = null;
            statsSelection.pairing = null;
            document.querySelectorAll('.stats-step').forEach(s => s.classList.remove('active'));
            document.getElementById('stats-step-1').classList.add('active');
        }

        function processStatsResult() {
            const resultDiv = document.getElementById('stats-result');
            const nameEl = document.getElementById('res-test-name');
            const descEl = document.getElementById('res-test-desc');
            const logicEl = document.getElementById('res-ucla-logic');
            
            resultDiv.classList.add('active');
            
            const dv = statsSelection.dvType;
            const iv = statsSelection.ivConfig;
            const pair = statsSelection.pairing;

            let result = { name: "Consult a Statistician", desc: "Your configuration is complex. This might require Multivariate analysis.", logic: "N/A" };

            // Logic Mapping based on UCLA OARC
            if (dv === 'continuous') {
                if (iv === 'one-cat-2') {
                    if (pair === 'independent') {
                        result = { name: "Independent T-Test", desc: "Compares means between two unrelated groups on the same continuous, normally distributed variable.", logic: "1 DV (Cont), 1 IV (Cat, 2 levels), Independent Samples" };
                    } else {
                        result = { name: "Paired T-Test", desc: "Compares means from the same group at different times (e.g., Pre-test vs Post-test).", logic: "1 DV (Cont), 1 IV (Cat, 2 levels), Related Samples" };
                    }
                } else if (iv === 'one-cat-many') {
                    if (pair === 'independent') {
                        result = { name: "One-way ANOVA", desc: "Determines if there are statistically significant differences between the means of three or more independent groups.", logic: "1 DV (Cont), 1 IV (Cat, 3+ levels), Independent Samples" };
                    } else {
                        result = { name: "Repeated Measures ANOVA", desc: "Equivalent of the one-way ANOVA but for related groups (e.g., testing at Week 1, Week 2, and Week 3).", logic: "1 DV (Cont), 1 IV (Cat, 3+ levels), Related Samples" };
                    }
                } else if (iv === 'one-cont') {
                    result = { name: "Simple Linear Regression", desc: "Models the relationship between a single independent variable and a dependent variable using a linear equation.", logic: "1 DV (Cont), 1 IV (Cont)" };
                } else if (iv === 'multi') {
                    result = { name: "Multiple Regression", desc: "Predicts the value of a variable based on the value of two or more other variables.", logic: "1 DV (Cont), 2+ IVs (Cont or Mixed)" };
                }
            } else if (dv === 'categorical') {
                if (iv === 'one-cat-2' || iv === 'one-cat-many') {
                    result = { name: "Chi-Square Test of Independence", desc: "Tests whether two categorical variables are related in some way.", logic: "1 DV (Cat), 1 IV (Cat)" };
                } else if (iv === 'multi') {
                    result = { name: "Logistic Regression", desc: "Used when the DV is binary (Yes/No) and you have multiple independent variables.", logic: "1 DV (Cat/Binary), Multiple IVs" };
                }
            } else if (dv === 'ordinal') {
                if (iv === 'one-cat-2') {
                    if (pair === 'independent') result = { name: "Wilcoxon-Mann-Whitney Test", desc: "Non-parametric alternative to independent t-test for ranked data.", logic: "1 DV (Ordinal), 1 IV (Cat, 2 levels), Independent" };
                    else result = { name: "Wilcoxon Signed Rank Test", desc: "Non-parametric alternative to paired t-test.", logic: "1 DV (Ordinal), 1 IV (Cat, 2 levels), Related" };
                } else if (iv === 'one-cat-many') {
                    if (pair === 'independent') result = { name: "Kruskal-Wallis H Test", desc: "Non-parametric alternative to One-way ANOVA.", logic: "1 DV (Ordinal), 1 IV (Cat, 3+ levels), Independent" };
                    else result = { name: "Friedman Test", desc: "Non-parametric version of RM-ANOVA.", logic: "1 DV (Ordinal), 1 IV (Cat, 3+ levels), Related" };
                }
            }

            nameEl.innerText = result.name;
            descEl.innerText = result.desc;
            logicEl.innerText = result.logic;
        }

        // Charts
        function initCharts() {
            const ctx1 = document.getElementById('timelineChart').getContext('2d');
            new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['Ideation', 'Build', 'Test', 'Defend'],
                    datasets: [{
                        label: 'Intensity (%)',
                        data: [40, 90, 80, 100],
                        backgroundColor: '#d97706',
                        borderRadius: 6
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { x: { max: 100 } },
                    plugins: { legend: { display: false } }
                }
            });

            const ctx2 = document.getElementById('gradingChart').getContext('2d');
            new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['Product Performance', 'Oral Defense', 'Manuscript'],
                    datasets: [{
                        data: [50, 30, 20],
                        backgroundColor: ['#b45309', '#78716c', '#e7e5e4']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom' } }
                }
            });
        }

        // Mobile Menu
        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            const s = document.getElementById('sidebar');
            s.classList.toggle('hidden');
            s.classList.toggle('absolute');
            s.classList.toggle('w-full');
        });

        window.onload = () => {
            initCharts();
            navigate('dashboard');
        };
    </script>
</body>
</html>
